<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.HMT.mood.dao.IMemberDAO">
  		<resultMap id="memberResult" type="com.HMT.mood.model.MemberVO">
  			<result property="memNo" column="memNo" />
  			<result property="memEmail" column="memEmail" />
  			<result property="memName" column="memName" />
  			<result property="memPwd" column="memPwd" />
  			<result property="memImg" column="memImg" />
  		</resultMap>
  
  		<!-- 이메일 중복 체크 -->
  		<select id="emailCheck" resultType="string" parameterType="string">
  			SELECT memNo FROM member WHERE memEmail=#{memEmail}
  		</select>
  		
  		<!-- 회원가입 -->
  		<insert id="insertMember" parameterType="com.HMT.mood.model.MemberVO">
  			INSERT INTO member (memEmail, memName, memPwd) VALUES (#{memEmail}, #{memName}, #{memPwd})
  		</insert>
  		
  		<!-- 로그인 -->
  		<select id="loginCheck" resultMap="memberResult" parameterType="hashmap">
  			SELECT * FROM member WHERE memEmail=#{memEmail} AND memPwd=#{memPwd}
  		</select>
  		
  		<!-- 회원 정보 수정 -->
  		<update id="updateMember" parameterType="hashmap">
  			UPDATE member SET memName=#{memName}, memImg=#{memImg}
  		</update>
  </mapper>